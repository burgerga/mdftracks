---
title: mdftracks
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

![](http://www.r-pkg.org/badges/version/mdftracks)
[![Build Status](https://travis-ci.org/burgerga/mdftracks.svg?branch=master)](https://travis-ci.org/burgerga/mdftracks)
[![codecov](https://codecov.io/gh/burgerga/mdftracks/branch/master/graph/badge.svg)](https://codecov.io/gh/burgerga/mdftracks)
[![License: GPL-3](https://img.shields.io/badge/license-GPL--3-blue.svg)](http://www.gnu.org/licenses/gpl-3.0)

Reads and writes **[MTrackJ](https://imagescience.org/meijering/software/mtrackj/) Data Files** ([`.mdf`](https://imagescience.org/meijering/software/mtrackj/format/)).
Supports clusters, 2D data, and channel information. If desired, generates
unique track identifiers based on cluster and id data from the `.mdf` file.

## Usage

First load the package with 
```{r}
library(mdftracks)
```

**Reading 3D data**

```{r}
mdf.file <- system.file("extdata", "example.mdf", package = 'mdftracks')
data <- read.mdf(mdf.file)
head(data, 10)
```

**Dropping the z-coordinate for 2D data**

```{r}
data <- read.mdf(mdf.file, drop.Z = T)
head(data, 10)
```

**Writing data in `(id, t, x, y, z)` format (e.g., from [MotilityLab](https://github.com/jtextor/MotilityLab))**

```{r}
library('MotilityLab')
tracks.df <- as.data.frame(TCells)
```

```{r, collapse=FALSE}
head(tracks.df, 10)
write.mdf(head(tracks.df, 10))
```

**Writing data with cluster, channel, and point information**

```{r, collapse=FALSE}
print(mdftracks.example.data)
write.mdf(mdftracks.example.data, cluster.column = 'cl', id.column = 'id',  
          pos.columns = letters[24:26], channel.column = 'ch', 
          point.column = "p")
```

For more information, consult the package documentation.

## Installation

```{r, eval=F}
install.packages('mdftracks')
```
